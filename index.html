<!DOCTYPE html>
<html>
<head>
  <title>jVectorMap demo</title>
  <link rel="stylesheet" href="js/jquery-jvectormap-2.0.5.css" />
  <script src="js/jquery-1.8.2.js"></script>
  <script src="js/kodewilayah.js"></script>
  <script src="js/data.js"></script>

  <script src="js/jquery-jvectormap-2.0.5.min.js"></script>
  <script src="js/jquery-jvectormap-idn_new.js"></script>
</head>
<body>
  <div id="world-map" style="width: 1000px; height: 600px"></div>
  <script>

    var data = {}, min = Number.MAX_VALUE, max = 0;
    sampleData.forEach(el => {
      data[el.id]= el.gdp;
      if(el.gdp < min)
        min = el.gdp;
      if(el.gdp > max)
        max = el.gdp;
    });

    console.log(min);
    console.log(max);
    $('#world-map').vectorMap(
        {
          map: 'indonesia_new',
          series: {
            regions: [{
              values: data,
              scale: ['#C8EEFF', '#0071A4'],
              normalizeFunction: 'polynomial'
            }],
            markers: [{
              attribute: 'fill',
              scale: ['#C8EEFF', '#0071A4'],
              normalizeFunction: 'polynomial',
              values: [min,max],
              legend: {
                vertical: true
              }
            }]
          },
          onRegionTipShow: function(e, el, code){
            el.html(el.html()+' (Data : '+data[code]+')');
          },
          onRegionClick : function(e,code){
            console.log("Anda mengklik provinsi " +code +" - " + kodeWilayah[code]);
          }
        });
  </script>
</body>
</html>